[{"/home/abdelhak/Bureau/abdelhakhamdouni_P7_03082020-2/frontend/src/App.js":"1","/home/abdelhak/Bureau/abdelhakhamdouni_P7_03082020-2/frontend/src/screens/RegisterScreen.js":"2","/home/abdelhak/Bureau/abdelhakhamdouni_P7_03082020-2/frontend/src/serviceWorkerRegistration.js":"3","/home/abdelhak/Bureau/abdelhakhamdouni_P7_03082020-2/frontend/src/screens/ProfileScreen.js":"4","/home/abdelhak/Bureau/abdelhakhamdouni_P7_03082020-2/frontend/src/screens/MesPostsScreen.js":"5","/home/abdelhak/Bureau/abdelhakhamdouni_P7_03082020-2/frontend/src/components/BottomNav.js":"6","/home/abdelhak/Bureau/abdelhakhamdouni_P7_03082020-2/frontend/src/components/Header.js":"7","/home/abdelhak/Bureau/abdelhakhamdouni_P7_03082020-2/frontend/src/components/Comment.js":"8","/home/abdelhak/Bureau/abdelhakhamdouni_P7_03082020-2/frontend/src/components/PostSetting.js":"9","/home/abdelhak/Bureau/abdelhakhamdouni_P7_03082020-2/frontend/src/reportWebVitals.js":"10","/home/abdelhak/Bureau/abdelhakhamdouni_P7_03082020-2/frontend/src/screens/HomeScreen.js":"11","/home/abdelhak/Bureau/abdelhakhamdouni_P7_03082020-2/frontend/src/components/Topbar.js":"12","/home/abdelhak/Bureau/abdelhakhamdouni_P7_03082020-2/frontend/src/models/userHandler.js":"13","/home/abdelhak/Bureau/abdelhakhamdouni_P7_03082020-2/frontend/src/models/commentHandler.js":"14","/home/abdelhak/Bureau/abdelhakhamdouni_P7_03082020-2/frontend/src/components/AddComment.js":"15","/home/abdelhak/Bureau/abdelhakhamdouni_P7_03082020-2/frontend/src/screens/LogScreen.js":"16","/home/abdelhak/Bureau/abdelhakhamdouni_P7_03082020-2/frontend/src/components/Post.js":"17","/home/abdelhak/Bureau/abdelhakhamdouni_P7_03082020-2/frontend/src/screens/PostScreen.js":"18","/home/abdelhak/Bureau/abdelhakhamdouni_P7_03082020-2/frontend/src/store/store.js":"19","/home/abdelhak/Bureau/abdelhakhamdouni_P7_03082020-2/frontend/src/models/postHandler.js":"20","/home/abdelhak/Bureau/abdelhakhamdouni_P7_03082020-2/frontend/src/components/Loader.js":"21","/home/abdelhak/Bureau/abdelhakhamdouni_P7_03082020-2/frontend/src/helpers/config.js":"22","/home/abdelhak/Bureau/abdelhakhamdouni_P7_03082020-2/frontend/src/screens/AddPost.js":"23","/home/abdelhak/Bureau/abdelhakhamdouni_P7_03082020-2/frontend/src/index.js":"24","/home/abdelhak/Bureau/abdelhakhamdouni_P7_03082020-2/frontend/src/store/reducers.js":"25","/home/abdelhak/Bureau/abdelhakhamdouni_07_03082020-03/frontend/src/App.js":"26","/home/abdelhak/Bureau/abdelhakhamdouni_07_03082020-03/frontend/src/screens/RegisterScreen.js":"27","/home/abdelhak/Bureau/abdelhakhamdouni_07_03082020-03/frontend/src/screens/ProfileScreen.js":"28","/home/abdelhak/Bureau/abdelhakhamdouni_07_03082020-03/frontend/src/components/Topbar.js":"29","/home/abdelhak/Bureau/abdelhakhamdouni_07_03082020-03/frontend/src/components/Loader.js":"30","/home/abdelhak/Bureau/abdelhakhamdouni_07_03082020-03/frontend/src/store/reducers.js":"31","/home/abdelhak/Bureau/abdelhakhamdouni_07_03082020-03/frontend/src/models/postHandler.js":"32","/home/abdelhak/Bureau/abdelhakhamdouni_07_03082020-03/frontend/src/models/commentHandler.js":"33","/home/abdelhak/Bureau/abdelhakhamdouni_07_03082020-03/frontend/src/helpers/config.js":"34","/home/abdelhak/Bureau/abdelhakhamdouni_07_03082020-03/frontend/src/components/AddComment.js":"35","/home/abdelhak/Bureau/abdelhakhamdouni_07_03082020-03/frontend/src/screens/AddPost.js":"36"},{"size":3159,"mtime":1608843960323,"results":"37","hashOfConfig":"38"},{"size":4942,"mtime":1607501913310,"results":"39","hashOfConfig":"38"},{"size":5064,"mtime":1606721843581,"results":"40","hashOfConfig":"38"},{"size":1785,"mtime":1607501892542,"results":"41","hashOfConfig":"38"},{"size":1363,"mtime":1607504904804,"results":"42","hashOfConfig":"38"},{"size":2095,"mtime":1606721844030,"results":"43","hashOfConfig":"38"},{"size":568,"mtime":1607502569039,"results":"44","hashOfConfig":"38"},{"size":3416,"mtime":1607502568159,"results":"45","hashOfConfig":"38"},{"size":1267,"mtime":1606721844243,"results":"46","hashOfConfig":"38"},{"size":364,"mtime":1606721843505,"results":"47","hashOfConfig":"38"},{"size":1175,"mtime":1607504903548,"results":"48","hashOfConfig":"38"},{"size":1643,"mtime":1607501820522,"results":"49","hashOfConfig":"38"},{"size":1348,"mtime":1607074952062,"results":"50","hashOfConfig":"38"},{"size":1165,"mtime":1607041765617,"results":"51","hashOfConfig":"38"},{"size":1988,"mtime":1607501706828,"results":"52","hashOfConfig":"38"},{"size":3740,"mtime":1607501860918,"results":"53","hashOfConfig":"38"},{"size":4160,"mtime":1607501790901,"results":"54","hashOfConfig":"38"},{"size":2498,"mtime":1607501883278,"results":"55","hashOfConfig":"38"},{"size":220,"mtime":1606721845322,"results":"56","hashOfConfig":"38"},{"size":1963,"mtime":1607041743972,"results":"57","hashOfConfig":"38"},{"size":551,"mtime":1606721844151,"results":"58","hashOfConfig":"38"},{"size":103,"mtime":1606721844311,"results":"59","hashOfConfig":"38"},{"size":5221,"mtime":1607502394602,"results":"60","hashOfConfig":"38"},{"size":939,"mtime":1606721843430,"results":"61","hashOfConfig":"38"},{"size":1359,"mtime":1607045774856,"results":"62","hashOfConfig":"38"},{"size":3254,"mtime":1608858165370,"results":"63","hashOfConfig":"64"},{"size":4914,"mtime":1608858165374,"results":"65","hashOfConfig":"64"},{"size":1730,"mtime":1608858165374,"results":"66","hashOfConfig":"64"},{"size":1803,"mtime":1608858165370,"results":"67","hashOfConfig":"64"},{"size":530,"mtime":1608858165370,"results":"68","hashOfConfig":"64"},{"size":1359,"mtime":1608858165374,"results":"69","hashOfConfig":"64"},{"size":1963,"mtime":1608858165370,"results":"70","hashOfConfig":"64"},{"size":1165,"mtime":1608858165370,"results":"71","hashOfConfig":"64"},{"size":103,"mtime":1608858424089,"results":"72","hashOfConfig":"64"},{"size":1954,"mtime":1608858165370,"results":"73","hashOfConfig":"64"},{"size":5217,"mtime":1608858988376,"results":"74","hashOfConfig":"64"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"gp3m5g",{"filePath":"77","messages":"78","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"79","usedDeprecatedRules":"80"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"83"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"86","usedDeprecatedRules":"87"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"90","usedDeprecatedRules":"80"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"93","usedDeprecatedRules":"80"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"99","usedDeprecatedRules":"80"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"106","usedDeprecatedRules":"87"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"109","usedDeprecatedRules":"87"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"83"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"116","messages":"117","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"118","usedDeprecatedRules":"83"},{"filePath":"119","messages":"120","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"83"},{"filePath":"121","messages":"122","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"123","usedDeprecatedRules":"87"},{"filePath":"124","messages":"125","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"83"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"128","messages":"129","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"130","messages":"131","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"132","messages":"133","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"134","messages":"135","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"136","messages":"137","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"138","messages":"139","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"1qvaub",{"filePath":"140","messages":"141","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"142","messages":"143","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"144","messages":"145","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"146","messages":"147","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"148","messages":"149","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"150","messages":"151","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"152","messages":"153","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"154","messages":"155","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"156","messages":"157","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"158","messages":"159","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/abdelhak/Bureau/abdelhakhamdouni_P7_03082020-2/frontend/src/App.js",["160","161","162"],"/home/abdelhak/Bureau/abdelhakhamdouni_P7_03082020-2/frontend/src/screens/RegisterScreen.js",["163","164","165","166","167"],"import React, { useState, useEffect } from 'react'\nimport { connect } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport logo from '../assets/images/logos/icon-left-font-monochrome-black.svg';\nimport { addUser } from '../models/userHandler';\nimport '../sass/login.scss'\n\nfunction RegisterScreen(props) {\n\n\n    const [image, setimage] = useState(null)\n    const [alt, setalt] = useState(null)\n    const [imageFile, setimageFile] = useState(null)\n    const [data, setdata] = useState()\n    const [disabled, setdisabled] = useState(true)\n    const [error, seterror] = useState(null)\n    const history = useHistory()\n    \n    function getImage(evt) {\n        var tgt = evt.target,\n        files = tgt.files;\n        console.log(files)\n        if(files.length > 0){\n            if(!files[0].type.match(/^image/)){\n                seterror('Le format du media n\\'est pas pris en compte !' )\n                return setdisabled(true)\n            }\n            else{\n                setimageFile(files)\n                setalt(files[0].name)\n                setdisabled(false)\n                seterror(null)\n                setimage('')\n            }\n        }\n\n        // FileReader support\n        if (FileReader && files && files.length) {\n            var fr = new FileReader();\n            fr.onload = function () {\n                setimage(fr.result);\n            }\n            fr.readAsDataURL(files[0]);\n        }\n        // Not supported\n        else {\n            // fallback -- perhaps submit the input to an iframe and temporarily store\n            // them on the server until the user's session ends.\n        }\n    }\n\n    useEffect(() => {\n        resetForm()\n    }, [])\n\n    function submitPostForm(e) {\n        e.preventDefault();\n        addUser(data, imageFile).then(res => {\n            if (res.status === 201) {\n                resetForm()\n                window.location.href=\"/\"\n            }\n        })\n            .catch(err => console.log(\"error:\", err))\n    }\n\n    function saveData(e) {\n        setdata({ ...data, [e.target.name]: e.target.value })\n    }\n    \n    function resetForm() {\n        setimage(null)\n        document.querySelectorAll('input').value = ''\n        document.querySelectorAll('textarea').value = ''\n    }\n\n\n    return (\n        props.showRegister ? null : \n        <section className=\"logscreen register\">\n            <div className=\"logo\"> <img src={logo} alt=\"groupomania\"/> </div>\n            <div> <h1>Créer votre compte</h1> </div>\n            <form onSubmit={submitPostForm} encType=\"multipart/form-data\">\n                <div className=\"form-group\">\n                    <label htmlFor=\"firstName\">Nom: </label>\n                    <input type=\"text\" name=\"firstName\" onChange={saveData} className=\"form-control\" id=\"firstName\" required/>\n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"lastName\">Prénom: </label>\n                    <input type=\"text\" name=\"lastName\" onChange={saveData} className=\"form-control\" id=\"lastName\" required/>\n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"email\">Email:</label>\n                    <input type=\"email\" name=\"email\"  onChange={saveData} className=\"form-control\" id=\"email\" aria-describedby=\"emailHelp\" required/>\n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"password\">Mot de passe</label>\n                    <input type=\"password\" name=\"password\" onChange={saveData} className=\"form-control\" id=\"password\" required/>\n                </div>\n                <div className=\"form-group mt-3\">\n                    <label htmlFor=\"file\">Choisir un Avatar</label>\n                    <input type=\"file\" name=\"image\" onChange={getImage} className=\"form-control\" id=\"file\" />\n                </div>\n                <div className=\"form-group form-check my-2\">\n                    <input type=\"checkbox\" className=\"form-check-input\" id=\"exampleCheck1\"required/>\n                    <label className=\"form-check-label\" htmlFor=\"exampleCheck1\">Accpeter les conditions d'utilisation</label>\n                </div>\n                <button type=\"submit\" className=\"btn btn-primary\">Créer mon compte</button>\n            </form>\n            <div className=\"helpers\"> <button className=\"helpers_button mb-5\">Se connecter</button> </div>\n        </section>\n    )\n}\n\nconst mapStateToProps = (state) => ({\n    state: state,\n})\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        setUserData : data => dispatch({\n            type: \"LOGIN_USER\",\n            payload:{\n                user : data\n            }\n        }),\n        goToRegister : (bol)=>dispatch({\n            type: 'GOTO_REGISTER',\n            payload: {\n                showRegister: bol\n            }\n        })\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(RegisterScreen);",["168","169"],"/home/abdelhak/Bureau/abdelhakhamdouni_P7_03082020-2/frontend/src/serviceWorkerRegistration.js",[],["170","171"],"/home/abdelhak/Bureau/abdelhakhamdouni_P7_03082020-2/frontend/src/screens/ProfileScreen.js",["172"],"import React, { useEffect, useState } from 'react'\nimport { connect } from 'react-redux'\nimport { getAllPostsWithId } from '../models/postHandler'\nimport { deleteUser } from '../models/userHandler'\nimport '../sass/App.scss'\nimport '../sass/profile.scss'\n\nfunction ProfileScreen(props) {\n\n    const [postsCount, setpostsCount] = useState(0)\n\n    function deleteProfile(){\n        let confirmation = window.confirm('Êtes-vous sur de vouloir supprimer votre compte ?')\n        if(confirmation){\n            deleteUser(props.state.user.id).then(res=>{\n                if(res.status === 200){\n                    localStorage.clear()\n                    window.location.href = \"/\"\n                }\n            })\n        }\n    }\n\n    useEffect(() => {\n        getAllPostsWithId(null, props.state.user.id).then(posts=>{\n            setpostsCount(posts.data.length)\n        }).catch(err=> console.log(err))\n    }, [])\n\n\n    return (\n        <section className=\"profile\">\n            <div className=\"profile-header\">\n                <span>Email: <strong>{props.state.user.email}</strong></span>\n                <span>Nom prénom: <strong>{props.state.user.firstName}, {props.state.user.lastName}</strong></span>\n                <span>Role: <strong>{props.state.user.roles}</strong></span>\n                <span>Mes publication : <strong>{postsCount}</strong></span>\n            </div>   \n            <div className=\"profile-action\">\n               <button className=\"delete\" onClick={deleteProfile}> Suprimer mon compte : <span className=\"fa fa-trash\"></span></button>\n            </div>   \n             <div className=\"profile-body\"></div>   \n            \n        </section>\n    )\n}\n\nconst mapStateToProps = state => ({state: state})\n\nexport default connect(mapStateToProps)(ProfileScreen);",["173","174"],"/home/abdelhak/Bureau/abdelhakhamdouni_P7_03082020-2/frontend/src/screens/MesPostsScreen.js",["175","176","177","178"],"import React, {useState, useEffect} from 'react'\nimport { connect } from 'react-redux'\nimport Post from '../components/Post'\nimport { getAllPostsWithId } from '../models/postHandler'\n\nfunction MesPostsScreen(props) {\n\n    let userId = props.state.user.id\n    const [posts, setposts] = useState([])\n\n    useEffect(() => {\n        getAllPostsWithId(null, props.state.user.id).then(posts=>{\n            props.setPostsData(posts.data)\n        }).catch(err=> console.log(err))\n    }, [])\n\n    return (\n        <section className=\"home\">\n            {\n                !props.state.posts ? null :  !props.state.posts.length > 0 ? \n                <div className=\"alert alert-success mt-5\">Vous n'avez aucune publications pour l'instant !</div>  :\n                    props.state.posts.map((post, i) => {\n                        return (<Post\n                            key={post.id}\n                            post={post}\n                        />)\n                    })\n            }\n        </section>\n    )\n}\n\nconst mapStateToProps = state => ({state: state})\nconst mapDispatchToProps = dispatch => {\n    return {\n        setPostsData: posts => dispatch({\n            type: \"UPLOAD_POSTS_FROM_API\",\n            payload: {\n                posts: posts,\n            }\n        }),\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MesPostsScreen);","/home/abdelhak/Bureau/abdelhakhamdouni_P7_03082020-2/frontend/src/components/BottomNav.js",["179","180"],"import React,{useEffect} from 'react'\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport '../sass/bottomnav.scss'\n\nfunction BottomNav(props) {\n\n    function navigate(e){\n        props.toggleSideBarre(!props.state.showSideBarre)\n        props.toggleScreen(e.target.dataset.link)\n        let path = window.location.pathname\n        if(path.match(/\\/post\\/\\d/)){\n            path = \"/\"\n        }\n    }\n\n    useEffect(() => {\n        let path = window.location.pathname\n        if(path.match(/\\/post\\/\\d/)){\n            path = \"/\"\n        }\n        switch (path){\n            case \"/\":\n                props.toggleScreen(\"home\")\n            break;\n            case \"/profile\":\n                props.toggleScreen(\"profile\")\n            break;\n            case \"/ajouter\":\n                props.toggleScreen(\"plus\")\n            break;\n        }\n    }, [])\n\n    return (\n        <ul className=\"bottomnav\">\n            <li><Link className={props.state.screen !== \"home\" ? \"bottomnav_home\":  \"bottomnav_home active\"} to=\"/\"><span data-link=\"home\" onClick={navigate} className=\"fa fa-home\"></span></Link></li>\n            <li><Link className={props.state.screen !== \"plus\" ? \"bottomnav_home\":  \"bottomnav_home active\"} to=\"/ajouter\"><span data-link=\"plus\" onClick={navigate} className=\"fa fa-plus-circle\"></span></Link></li>\n            <li><Link className={props.state.screen !== \"profile\" ? \"bottomnav_home\":  \"bottomnav_home active\"} to=\"/profile\"><span data-link=\"profile\" onClick={navigate} className=\"fa fa-user\"></span></Link></li>\n        </ul>\n    )\n}\n\nconst mapStateToProps = state => ({state: state})\nconst mapDispatchToProps = dispatch => {\n    return {\n        toggleSideBarre: (show)=> dispatch({\n            type: \"SHOW_SIDE_BARRE\",\n            payload:{\n                showSideBarre : !show\n            }\n        }),\n        toggleScreen: (screen)=> dispatch({\n            type: \"CHANGE_SCREEN\",\n            payload:{\n                screen: screen\n            }\n        })\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BottomNav);","/home/abdelhak/Bureau/abdelhakhamdouni_P7_03082020-2/frontend/src/components/Header.js",[],["181","182"],"/home/abdelhak/Bureau/abdelhakhamdouni_P7_03082020-2/frontend/src/components/Comment.js",["183"],"import React, {useState, useEffect} from 'react'\nimport '../sass/comment.scss';\nimport moment from 'moment';\nimport AddComment from './AddComment';\nimport avatar from '../assets/images/avatar/avatar.png'\nimport { connect } from 'react-redux';\nimport { deleteComment, getAllCommentsByPostId } from '../models/commentHandler';\nimport { useHistory } from 'react-router-dom';\nimport { getUserById } from '../models/userHandler';\n\n\nfunction Comment(props) {\n\n    const [commentshow, setcommentshow] = useState(false)\n    const [user, setuser] = useState(null)\n    const history = useHistory()\n    function deletecomment(){\n        console.log(props.comment.id)\n        deleteComment(null,props.comment.id).then((res)=>{\n                getAllCommentsByPostId(null, props.comment.PostId).then(comments => {\n                    props.setCommentsData(comments.data)\n                })\n        })\n    }\n\n    useEffect(() => {\n       getUserById(props.comment.UserId).then(user=>{\n           console.log(user.data)\n           setuser(user.data)\n       })\n    }, [])\n\n    const setShow = ()=>setcommentshow(!commentshow)\n    \n        // formater la date et heure en locale français\n        moment.locale('fr')\n        //check if author, admin or not\n        const author = props.user.id === props.comment.UserId\n        || props.user.roles.indexOf('ROLE_ADMIN')\n\n    return (\n        !user ? null :\n        <article className={props.comment.id !== props.comment.CommentId ? \"comment child\" : \"comment\" }>\n            <div><img onClick={()=>history.push('/profile')} src={avatar} alt=\"avatar\"/></div>\n            <div className=\"comment-body\">\n                <div className=\"comment-header d-flex flex-column justify-content-start align-items-start\">\n                    <small className=\"font-weight-bold\">{user.firstName +\"-\"+user.lastName}</small>\n                    <small className=\"comment-date\">{moment(props.comment.createdAt).fromNow()}</small>\n                </div>\n                <div className=\"comment-comment\">\n                <p>{props.comment.content}</p>\n                </div>\n                <div className=\"comment-footer\">\n                    {\n                        props.comment.id !== props.comment.CommentId ? null : \n                        <button  onClick={setShow}>{!commentshow ?  \"Répondre\" : \"fermer\"}</button>    \n                    }\n                     {\n                        author !== -1 && <button  onClick={deletecomment}>Supprimer</button>\n                     }\n                    <button onClick={()=>window.confirm(\"le commentaire a été signalé a l'adminstrateur du groupe merci!\")}>Signaler</button>\n                </div>\n                <AddComment show={commentshow} showcommenthandler={setShow} postId={props.comment.PostId} userId={props.comment.UserId} commentId={props.comment.id}/>\n            </div>\n        </article>\n    )\n}\n\n\nconst mapStateToProps = state => ({\n    user: state.user,\n})\nconst mapDispatchToProps = dispatch => {\n    return {\n        setPostData: post => dispatch({\n            type: \"UPLOAD_POST_FROM_API\",\n            payload: {\n                post: post,\n            }\n        }),\n        setCommentsData: comments => dispatch({\n            type: \"UPLOAD_COMMENTS_FROM_API\",\n            payload: {\n                comments: comments,\n            }\n        }),\n    }\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(Comment)","/home/abdelhak/Bureau/abdelhakhamdouni_P7_03082020-2/frontend/src/components/PostSetting.js",[],"/home/abdelhak/Bureau/abdelhakhamdouni_P7_03082020-2/frontend/src/reportWebVitals.js",[],"/home/abdelhak/Bureau/abdelhakhamdouni_P7_03082020-2/frontend/src/screens/HomeScreen.js",["184","185","186"],"import React, { useEffect, useState } from 'react'\nimport '../sass/home.scss'\nimport Post from '../components/Post'\nimport { getAllPosts } from '../models/postHandler'\nimport { connect } from 'react-redux'\n\nfunction HomeScreen(props) {\n\n    const [posts, setposts] = useState(props.posts)\n\n    useEffect(() => {\n        getAllPosts().then((posts) => {\n            props.setPostsData(posts.data)\n            \n        })\n    }, [props.state.screen])\n\n    return (\n        <section className=\"home\">\n            {\n                !props.state.posts ? null :\n                    props.state.posts.map((post, i) => {\n                        return (<Post\n                            key={post.id}\n                            post={post}\n                        />)\n                    })\n            }\n        </section>\n    )\n}\n\n\nconst mapStateToProps = state => ({state: state})\nconst mapDispatchToProps = dispatch => {\n    return {\n        setPostsData: posts => dispatch({\n            type: \"UPLOAD_POSTS_FROM_API\",\n            payload: {\n                posts: posts,\n            }\n        }),\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HomeScreen);","/home/abdelhak/Bureau/abdelhakhamdouni_P7_03082020-2/frontend/src/components/Topbar.js",["187","188"],"import React, { useState, useEffect} from 'react'\nimport { connect } from 'react-redux'\nimport logo from '../assets/images/avatar/avatar.png';\nimport { Link, useHistory } from 'react-router-dom'\nimport '../sass/topbar.scss'\n\nfunction Topbar(props) {\n\n    const [arrow, setarrow] = useState(false)\n\n    function toggleSideBarre(){\n        console.log(props)\n        props.toggleSideBarre(!props.state.showSideBarre)\n    }\n\n    const history = useHistory()\n\n    useEffect(() => {\n        setarrow(window.location.pathname.substr(1) !== \"\")\n    }, [])\n\n    function gotoProfile(){\n        props.toggleScreen('profile')\n        history.push('/profile')\n    }\n\n    return (\n        <nav className=\"topbar\">\n            \n            <div className=\"flex-row\">\n            <img onClick={gotoProfile} src={logo} alt=\"groupomania\"/>\n            <h2>{props.state.user.pseudo}</h2>\n            </div>\n            <div  onClick={toggleSideBarre}  className=\"menu-bar\">\n                <span style={{fontSize: \"1.4em\"}} className={!props.state.showSideBarre ? \"fa fa-gear\": \"fa fa-close\"}></span>\n            </div>\n        </nav>\n    )\n}\n\nconst mapStateToProps = (state) => ({\n    state: state,\n})\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        toggleSideBarre: (show)=> dispatch({\n            type: \"SHOW_SIDE_BARRE\",\n            payload:{\n                showSideBarre : show\n            }\n        }),\n        toggleScreen: (screen)=> dispatch({\n            type: \"CHANGE_SCREEN\",\n            payload:{\n                screen: screen\n            }\n        })\n    }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Topbar);","/home/abdelhak/Bureau/abdelhakhamdouni_P7_03082020-2/frontend/src/models/userHandler.js",[],"/home/abdelhak/Bureau/abdelhakhamdouni_P7_03082020-2/frontend/src/models/commentHandler.js",[],"/home/abdelhak/Bureau/abdelhakhamdouni_P7_03082020-2/frontend/src/components/AddComment.js",[],"/home/abdelhak/Bureau/abdelhakhamdouni_P7_03082020-2/frontend/src/screens/LogScreen.js",["189","190","191"],"import React, { useState } from 'react'\nimport { connect } from 'react-redux';\nimport logo from '../assets/images/logos/icon-left-font-monochrome-black.svg';\nimport { logUser } from '../models/userHandler'\nimport '../sass/login.scss'\n\nfunction LogScreen(props) {\n\n    const [disabled, setdisabled] = useState(false)\n    const [error, seterror] = useState(null)\n    const [passwordclear, setpasswordclear] = useState(false)\n    const [credentiels, setcredentiels] = useState({\n        email: null,\n        password: null,\n    })\n\n    /**\n     * login the user and set update state with the user data\n     */\n    function login(event) {\n        event.preventDefault()\n        props.toggleLoading(true)\n        logUser(credentiels)\n        .then(data =>{\n            console.log(data)\n            if(data.data.err){\n                seterror('Votre email ou mot de passe est incorrect !')\n            }else{\n                localStorage.setItem('token', data.data.token)\n                props.setUserData(data.data.user)\n                props.setLoggin(true)\n                props.toggleLoading(false)\n            }\n\n        })\n        .catch(err=> console.log(err))\n    }\n\n    function changeCredentiels(e) {\n        setcredentiels({ ...credentiels, [e.target.name]: e.target.value })\n        if (credentiels.email != null && credentiels.password != null) {\n            setdisabled(false)\n        }\n    }\n\n    return (\n        <section className=\"logscreen\">\n            <div className=\"logo\">\n                <img className=\"img-fluid\" src={logo} alt=\"groupomania\" />\n            </div>\n            <form onSubmit={login}>\n                {!error ? null : <div className=\"alert alert-warning\">\n                    {error}\n                </div>}\n                <div className=\"form-group\">\n                    <label htmlFor=\"email\">Email :</label>\n                    <input onChange={changeCredentiels} name=\"email\" type=\"email\" className=\"form-control\" id=\"email\" aria-describedby=\"emailHelp\"/>\n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"password\">Mot de passe :</label>\n                    <input onChange={changeCredentiels} name=\"password\" type=\"password\" className=\"form-control\" id=\"password\"/>\n                </div>\n                <div className=\"form-group form-check\">\n                    <input type=\"checkbox\" className=\"form-check-input\" id=\"exampleCheck1\"/>\n                    <label className=\"form-check-label\" htmlFor=\"exampleCheck1\">Garder ma session</label>\n                </div>\n                <button type=\"submit\" className=\"p-2\">Se connecter</button>\n            </form>\n            <div className=\"helpers d-flex flex-column\">\n                <button className=\"mt-5\">Mot de passe oublié</button>\n                <button className=\"mt-1\" onClick={()=>props.goToRegister(true)}>Créer un compte</button>\n            </div>\n        </section>\n    )\n\n}\n\nconst mapStateToProps = (state) => ({\n    state: state,\n})\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        setUserData: data => dispatch({\n            type: \"LOGIN_USER\",\n            payload: {\n                user: data,\n            }\n        }),\n        setLoggin : ()=>dispatch({\n          type: 'SET_LOGGIN',\n          payload : {\n            loggin: true\n          }\n        }),\n        goToRegister : (bol)=>dispatch({\n            type: 'GOTO_REGISTER',\n            payload: {\n                showRegister: bol\n            }\n        }),\n        toggleLoading: (bool) => dispatch({\n            type: 'TOGGLE_LOADING',\n            payload: {\n                loading: false\n            }\n        })\n    }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LogScreen);","/home/abdelhak/Bureau/abdelhakhamdouni_P7_03082020-2/frontend/src/components/Post.js",[],"/home/abdelhak/Bureau/abdelhakhamdouni_P7_03082020-2/frontend/src/screens/PostScreen.js",["192","193","194"],"import React, { useState, useEffect } from 'react'\nimport { useHistory, useParams } from 'react-router'\nimport Post from '../components/Post'\nimport '../sass/postscreen.scss';\nimport Comment from '../components/Comment'\nimport { getPostById } from '../models/postHandler'\nimport { getAllCommentsByPostId } from '../models/commentHandler'\nimport { connect } from 'react-redux'\n\nfunction PostScreen(props) {\n    let { id } = useParams()\n\n    const [post, setpost] = useState(props.state.post)\n    const [comments, setcomments] = useState(props.state.comments)\n    const history = useHistory()\n\n    useEffect(() => {\n        props.toggleScreen('post')\n        getPostById(id).then((post) => {\n            setpost(post.data)\n            getAllCommentsByPostId(null, id).then(comments => {\n                props.setCommentsData(comments.data)\n            })\n        })\n            .catch(err => {\n                history.push(\"/\")\n            })\n    }, [])\n\n    function getComments(id){\n        getAllCommentsByPostId(null, props.state.post.id).then(comments => {\n            props.setCommentsData(comments.data)\n        })\n        getPostById(id).then((post) => {\n            setpost(post.data)\n        })\n    }\n\n    return (\n        !post ? null :\n            <section className=\"postScreen\">\n                <Post post={post}\n                />\n                <div className=\"comment-list\">\n                    {\n                        !props.state.comments ? null :\n                        props.state.comments.map((comment) => {\n                            return (\n                                <Comment key={comment.id} uploadComment={getComments} comment={comment} />\n                            )\n                        })\n                    }\n                </div>\n            </section>\n    )\n}\n\n\n\nconst mapStateToProps = state => ({\n    state: state\n})\nconst mapDispatchToProps = dispatch => {\n    return {\n        setPostData: post => dispatch({\n            type: \"UPLOAD_POST_FROM_API\",\n            payload: {\n                post: post,\n            }\n        }),\n        setCommentsData: comments => dispatch({\n            type: \"UPLOAD_COMMENTS_FROM_API\",\n            payload: {\n                comments: comments,\n            }\n        }),\n        toggleScreen: (screen)=> dispatch({\n            type: \"CHANGE_SCREEN\",\n            payload:{\n                screen: screen\n            }\n        })\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PostScreen);","/home/abdelhak/Bureau/abdelhakhamdouni_P7_03082020-2/frontend/src/store/store.js",[],"/home/abdelhak/Bureau/abdelhakhamdouni_P7_03082020-2/frontend/src/models/postHandler.js",[],"/home/abdelhak/Bureau/abdelhakhamdouni_P7_03082020-2/frontend/src/components/Loader.js",[],"/home/abdelhak/Bureau/abdelhakhamdouni_P7_03082020-2/frontend/src/helpers/config.js",[],"/home/abdelhak/Bureau/abdelhakhamdouni_P7_03082020-2/frontend/src/screens/AddPost.js",[],"/home/abdelhak/Bureau/abdelhakhamdouni_P7_03082020-2/frontend/src/index.js",[],"/home/abdelhak/Bureau/abdelhakhamdouni_P7_03082020-2/frontend/src/store/reducers.js",[],"/home/abdelhak/Bureau/abdelhakhamdouni_07_03082020-03/frontend/src/App.js",["195","196","197"],"/home/abdelhak/Bureau/abdelhakhamdouni_07_03082020-03/frontend/src/screens/RegisterScreen.js",["198","199","200","201","202"],"/home/abdelhak/Bureau/abdelhakhamdouni_07_03082020-03/frontend/src/screens/ProfileScreen.js",["203"],"/home/abdelhak/Bureau/abdelhakhamdouni_07_03082020-03/frontend/src/components/Topbar.js",["204","205"],"/home/abdelhak/Bureau/abdelhakhamdouni_07_03082020-03/frontend/src/components/Loader.js",[],"/home/abdelhak/Bureau/abdelhakhamdouni_07_03082020-03/frontend/src/store/reducers.js",[],"/home/abdelhak/Bureau/abdelhakhamdouni_07_03082020-03/frontend/src/models/postHandler.js",[],"/home/abdelhak/Bureau/abdelhakhamdouni_07_03082020-03/frontend/src/models/commentHandler.js",[],"/home/abdelhak/Bureau/abdelhakhamdouni_07_03082020-03/frontend/src/helpers/config.js",[],"/home/abdelhak/Bureau/abdelhakhamdouni_07_03082020-03/frontend/src/components/AddComment.js",[],"/home/abdelhak/Bureau/abdelhakhamdouni_07_03082020-03/frontend/src/screens/AddPost.js",[],{"ruleId":"206","severity":1,"message":"207","line":2,"column":50,"nodeType":"208","messageId":"209","endLine":2,"endColumn":58},{"ruleId":"210","severity":1,"message":"211","line":42,"column":5,"nodeType":"212","endLine":42,"endColumn":7,"suggestions":"213"},{"ruleId":"206","severity":1,"message":"214","line":46,"column":9,"nodeType":"208","messageId":"209","endLine":46,"endColumn":21},{"ruleId":"206","severity":1,"message":"215","line":11,"column":12,"nodeType":"208","messageId":"209","endLine":11,"endColumn":17},{"ruleId":"206","severity":1,"message":"216","line":12,"column":12,"nodeType":"208","messageId":"209","endLine":12,"endColumn":15},{"ruleId":"206","severity":1,"message":"217","line":15,"column":12,"nodeType":"208","messageId":"209","endLine":15,"endColumn":20},{"ruleId":"206","severity":1,"message":"218","line":16,"column":12,"nodeType":"208","messageId":"209","endLine":16,"endColumn":17},{"ruleId":"206","severity":1,"message":"219","line":17,"column":11,"nodeType":"208","messageId":"209","endLine":17,"endColumn":18},{"ruleId":"220","replacedBy":"221"},{"ruleId":"222","replacedBy":"223"},{"ruleId":"220","replacedBy":"224"},{"ruleId":"222","replacedBy":"225"},{"ruleId":"210","severity":1,"message":"226","line":28,"column":8,"nodeType":"212","endLine":28,"endColumn":10,"suggestions":"227"},{"ruleId":"220","replacedBy":"228"},{"ruleId":"222","replacedBy":"229"},{"ruleId":"206","severity":1,"message":"230","line":8,"column":9,"nodeType":"208","messageId":"209","endLine":8,"endColumn":15},{"ruleId":"206","severity":1,"message":"231","line":9,"column":12,"nodeType":"208","messageId":"209","endLine":9,"endColumn":17},{"ruleId":"206","severity":1,"message":"232","line":9,"column":19,"nodeType":"208","messageId":"209","endLine":9,"endColumn":27},{"ruleId":"210","severity":1,"message":"233","line":15,"column":8,"nodeType":"212","endLine":15,"endColumn":10,"suggestions":"234"},{"ruleId":"235","severity":1,"message":"236","line":22,"column":9,"nodeType":"237","messageId":"238","endLine":32,"endColumn":10},{"ruleId":"210","severity":1,"message":"233","line":33,"column":8,"nodeType":"212","endLine":33,"endColumn":10,"suggestions":"239"},{"ruleId":"220","replacedBy":"240"},{"ruleId":"222","replacedBy":"241"},{"ruleId":"210","severity":1,"message":"242","line":31,"column":8,"nodeType":"212","endLine":31,"endColumn":10,"suggestions":"243"},{"ruleId":"206","severity":1,"message":"231","line":9,"column":12,"nodeType":"208","messageId":"209","endLine":9,"endColumn":17},{"ruleId":"206","severity":1,"message":"232","line":9,"column":19,"nodeType":"208","messageId":"209","endLine":9,"endColumn":27},{"ruleId":"210","severity":1,"message":"233","line":16,"column":8,"nodeType":"212","endLine":16,"endColumn":28,"suggestions":"244"},{"ruleId":"206","severity":1,"message":"245","line":4,"column":10,"nodeType":"208","messageId":"209","endLine":4,"endColumn":14},{"ruleId":"206","severity":1,"message":"246","line":9,"column":12,"nodeType":"208","messageId":"209","endLine":9,"endColumn":17},{"ruleId":"206","severity":1,"message":"217","line":9,"column":12,"nodeType":"208","messageId":"209","endLine":9,"endColumn":20},{"ruleId":"206","severity":1,"message":"247","line":11,"column":12,"nodeType":"208","messageId":"209","endLine":11,"endColumn":25},{"ruleId":"206","severity":1,"message":"248","line":11,"column":27,"nodeType":"208","messageId":"209","endLine":11,"endColumn":43},{"ruleId":"206","severity":1,"message":"249","line":14,"column":12,"nodeType":"208","messageId":"209","endLine":14,"endColumn":20},{"ruleId":"206","severity":1,"message":"250","line":14,"column":22,"nodeType":"208","messageId":"209","endLine":14,"endColumn":33},{"ruleId":"210","severity":1,"message":"251","line":28,"column":8,"nodeType":"212","endLine":28,"endColumn":10,"suggestions":"252"},{"ruleId":"206","severity":1,"message":"207","line":2,"column":50,"nodeType":"208","messageId":"209","endLine":2,"endColumn":58},{"ruleId":"210","severity":1,"message":"211","line":43,"column":5,"nodeType":"212","endLine":43,"endColumn":7,"suggestions":"253"},{"ruleId":"206","severity":1,"message":"214","line":47,"column":9,"nodeType":"208","messageId":"209","endLine":47,"endColumn":21},{"ruleId":"206","severity":1,"message":"215","line":10,"column":12,"nodeType":"208","messageId":"209","endLine":10,"endColumn":17},{"ruleId":"206","severity":1,"message":"216","line":11,"column":12,"nodeType":"208","messageId":"209","endLine":11,"endColumn":15},{"ruleId":"206","severity":1,"message":"217","line":14,"column":12,"nodeType":"208","messageId":"209","endLine":14,"endColumn":20},{"ruleId":"206","severity":1,"message":"218","line":15,"column":12,"nodeType":"208","messageId":"209","endLine":15,"endColumn":17},{"ruleId":"206","severity":1,"message":"219","line":16,"column":11,"nodeType":"208","messageId":"209","endLine":16,"endColumn":18},{"ruleId":"210","severity":1,"message":"226","line":26,"column":8,"nodeType":"212","endLine":26,"endColumn":10,"suggestions":"254"},{"ruleId":"206","severity":1,"message":"246","line":7,"column":10,"nodeType":"208","messageId":"209","endLine":7,"endColumn":15},{"ruleId":"206","severity":1,"message":"255","line":20,"column":12,"nodeType":"208","messageId":"209","endLine":20,"endColumn":23},"no-unused-vars","'Redirect' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'history' and 'props'. Either include them or remove the dependency array. However, 'props' will change when *any* prop changes, so the preferred fix is to destructure the 'props' object outside of the useEffect call and refer to those specific props inside useEffect.","ArrayExpression",["256"],"'showRegister' is assigned a value but never used.","'image' is assigned a value but never used.","'alt' is assigned a value but never used.","'disabled' is assigned a value but never used.","'error' is assigned a value but never used.","'history' is assigned a value but never used.","no-native-reassign",["257"],"no-negated-in-lhs",["258"],["257"],["258"],"React Hook useEffect has a missing dependency: 'props.state.user.id'. Either include it or remove the dependency array.",["259"],["257"],["258"],"'userId' is assigned a value but never used.","'posts' is assigned a value but never used.","'setposts' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'props'. Either include it or remove the dependency array. However, 'props' will change when *any* prop changes, so the preferred fix is to destructure the 'props' object outside of the useEffect call and refer to those specific props inside useEffect.",["260"],"default-case","Expected a default case.","SwitchStatement","missingDefaultCase",["261"],["257"],["258"],"React Hook useEffect has a missing dependency: 'props.comment.UserId'. Either include it or remove the dependency array.",["262"],["263"],"'Link' is defined but never used.","'arrow' is assigned a value but never used.","'passwordclear' is assigned a value but never used.","'setpasswordclear' is assigned a value but never used.","'comments' is assigned a value but never used.","'setcomments' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'history', 'id', and 'props'. Either include them or remove the dependency array. However, 'props' will change when *any* prop changes, so the preferred fix is to destructure the 'props' object outside of the useEffect call and refer to those specific props inside useEffect.",["264"],["265"],["266"],"'gotoProfile' is defined but never used.",{"desc":"267","fix":"268"},"no-global-assign","no-unsafe-negation",{"desc":"269","fix":"270"},{"desc":"271","fix":"272"},{"desc":"271","fix":"273"},{"desc":"274","fix":"275"},{"desc":"276","fix":"277"},{"desc":"278","fix":"279"},{"desc":"267","fix":"280"},{"desc":"269","fix":"281"},"Update the dependencies array to be: [history, props]",{"range":"282","text":"283"},"Update the dependencies array to be: [props.state.user.id]",{"range":"284","text":"285"},"Update the dependencies array to be: [props]",{"range":"286","text":"287"},{"range":"288","text":"287"},"Update the dependencies array to be: [props.comment.UserId]",{"range":"289","text":"290"},"Update the dependencies array to be: [props, props.state.screen]",{"range":"291","text":"292"},"Update the dependencies array to be: [history, id, props]",{"range":"293","text":"294"},{"range":"295","text":"283"},{"range":"296","text":"285"},[1456,1458],"[history, props]",[908,910],"[props.state.user.id]",[479,481],"[props]",[880,882],[1052,1054],"[props.comment.UserId]",[426,446],"[props, props.state.screen]",[948,950],"[history, id, props]",[1518,1520],[852,854]]